<!DOCTYPE html>
<html lang="zh-hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CDN</title>
    <link rel="stylesheet" href="css/bulma-1.0.2.css">
</head>

<body class="container" style="padding: 1.5rem 0 1.5rem 0;">
    <div class="box content">
        <ul>
            <li><a href="index.html">home</a></li>
            <li><a href="#cdn">CDN</a></li>
            <li><a href="#proxy">代理中的用途</a></li>
            <li><a href="#fastip">優選 IP</a></li>
            <li><a href="#fastname">優選域名</a></li>
            <li><a href="#nameip">優選域名 IP</a></li>
        </ul>
    </div>

    <div class="box" id="cdn">
        <h1 class="title">CDN</h1>
        <div class="content">
            <div class="block">
                簡單來說 CDN 是一種 http 反向代理服務，正常網路中，它起到爲 http 請求加速和緩存的能力，並且它對於 http 客戶端來說是透明的，客戶端只需要發送了 http 請求並得到響應不需要關心連接的是
                CDN
                還是源服務器
            </div>
            <div class="block">
                通常 CDN 提供商會在全世界各地創建服務器，當客戶發送 http 請求時，會連接到供應商提供的最近的服務器，然後供應商會使用內部專線連接 http 源服務器，並且合理的中轉 http
                協議以讓用戶獲取到和連接源服務器一樣的響應結果。CDN 供應商建立的專有網路通常可以提高客戶端獲取響應的速度，此外 CDN 還提供了各種其它功能例如防火牆安全，數據統計，限流...
            </div>
        </div>
    </div>
    <div class="box" id="proxy">
        <h1 class="title">代理中的用途</h1>
        <div class="content">
            <div class="block">
                由於客戶端會連接 CDN 提供的 ip，所以科學上網中它最大的用途就是防止服務器 ip 被泄漏。並且起到一定的流量隱藏作用
            </div>
            <div class="block">
                代理的客戶端如果直接連接代理服務器，獨裁者的網管設備會發現有大量的流量連接到一個境外的固定 ip，這本身就是一個
                非常明顯的代理特徵，獨裁者就可以直接將這個 ip 加入到黑名單禁止數據與此 ip 通信，從而導致代理失效
            </div>
            <div class="block">
                <a href="https://zh.wikipedia.org/zh-tw/Cloudflare" target="_blank">cloudflare</a> 是世界上最大的 CDN
                提供商，每天到它的流量十分巨大，將個人的代理流量隱藏在這浩瀚的流量中可以起到一定的隱蔽作用。
                此外由於 <a href="https://zh.wikipedia.org/zh-tw/Cloudflare" target="_blank">cloudflare</a>
                的巨大影響力，一些獨裁國家不敢貿然將它的
                ip
                全都禁掉，否則網路立刻變成和北朝鮮無異！
            </div>
            <div class="block">
                此外 <a href="https://zh.wikipedia.org/zh-tw/Cloudflare" target="_blank">cloudflare</a> 的 CDN
                服務是免費的，這實在是爲突破獨裁者的網路封鎖提供了極大的幫助，無論 <a href="https://zh.wikipedia.org/zh-tw/Cloudflare"
                    target="_blank">cloudflare</a> 是否有意爲之，
                它都是突破獨裁者信息繭房的最大功臣
            </div>
        </div>
    </div>

    <div class="box" id="fastip">
        <h1 class="title">優選 IP</h1>
        <div class="content">
            <div class="block">
                <a href="https://zh.wikipedia.org/zh-tw/Cloudflare" target="_blank">cloudflare</a> 提供了大量的 <a
                    href="https://www.cloudflare.com/zh-tw/ips/" target="_blank">IP</a> 地址，默認域名解析的 IP 地址可能不是最快的。
                所謂的優選 IP 就是定時測試 <a href="https://zh.wikipedia.org/zh-tw/Cloudflare" target="_blank">cloudflare</a> 提供的
                <a href="https://www.cloudflare.com/zh-tw/ips/" target="_blank">IP</a> 段中哪些地址連接比較快並記錄下來，
                然後使用這些 IP 連接 cloudflare 從而爲服務進行加速
            </div>
            <div class="block">
                優選 IP 使得即使在 <a href="https://zh.wikipedia.org/zh-tw/Cloudflare" target="_blank">cloudflare</a>
                被部分阻斷的獨裁世界，只要不是北朝鮮那樣完全封鎖 <a href="https://zh.wikipedia.org/zh-tw/Cloudflare"
                    target="_blank">cloudflare</a>
                就可以使用 <a href="https://zh.wikipedia.org/zh-tw/Cloudflare" target="_blank">cloudflare</a> 作爲代理的核心工具

            </div>
            <div class="block">
                但優選 IP 存在下述問題：
                <ul>
                    <li>需要一個設備去不斷的定時測試 IP</li>
                    <li>測試 IP 設備的網路只代表了，設備所處的網路與 <a href="https://zh.wikipedia.org/zh-tw/Cloudflare"
                            target="_blank">cloudflare</a>
                        間的速度表現。如果代理客戶端使用不同地區或運營商提供的網路這些 IP 可能不是最好的</li>
                    <li>依據測試算法的不同，這些 IP 的質量可能存在一些問題</li>
                    <li>依據網路情況和時間的變化，這些優選的 IP 可能會變質過期或被獨裁者重點關注</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="box" id="fastname">
        <h1 class="title">優選域名</h1>
        <div class="content">
            <div class="block">
                優選域名原理類似優選 IP，但不需要我們去測試 IP，主要是因爲大部分獨裁者還沒有北朝鮮的魄力，在各獨裁地區依然有很多國際大企業並且這些企業使用了 <a
                    href="https://zh.wikipedia.org/zh-tw/Cloudflare" target="_blank">cloudflare</a>，同時爲 <a
                    href="https://zh.wikipedia.org/zh-tw/Cloudflare" target="_blank">cloudflare</a> 進行了付費以
                讓 <a href="https://zh.wikipedia.org/zh-tw/Cloudflare" target="_blank">cloudflare</a>
                會依據網路供應商和地區爲它分配離用戶最快的
                IP。
                因此我們可以使用這些大企業的域名去連接到 <a href="https://zh.wikipedia.org/zh-tw/Cloudflare" target="_blank">cloudflare</a>
                以達到和優選
                IP 類似的效果
            </div>
            <div class="block">
                但優選域名也存在者一些問題:
                <ul>
                    <li>可用作優選的域名並不太多</li>
                    <li>不同域名在不同網路環境和時間節點的質量也不同</li>
                    <li>有時優選的域名並不比優選 IP 質量高</li>
                </ul>
            </div>
            <div class="block">
                綜合考慮同時使用優選域名和優選 IP，自己依據使用情況進行切換是比較合適的選擇
            </div>
        </div>
    </div>

    <div class="box" id="nameip">
        <h1 class="title">優選域名 IP</h1>
        <div class="content">
            <div class="block">
                雖然 <a href="https://zh.wikipedia.org/zh-tw/Cloudflare" target="_blank">cloudflare</a>
                會爲付費用戶分配優質的IP，但通常一個域名會分配多個IP，其中可能有IP被獨裁者進行了干擾會大量丟包。
                這時如果客戶端使用到此IP就會導致網路很慢或不可用。
                所以可以先將優選域名解析爲IP，把這些IP進行測試後直接使用IP，這可以避免同個域名綁定了多個IP，但其中某個IP不穩定卻被客戶端使用的情況。
            </div>
            <div class="block">
                但這同樣存在一些問題:
                <ul>
                    <li>如果域名被分配到了新的IP，客戶端無法及時更新</li>
                    <li>域名爲不同地區分配的不同IP無法被正確地區獲取到</li>
                </ul>
            </div>
            <div class="block">
                但這兩個問題幾乎可以忽略，因爲
                <ol>
                    <li><a href="https://zh.wikipedia.org/zh-tw/Cloudflare" target="_blank">cloudflare</a>
                        分配的IP通常不會頻繁改變，並且只要設置一個定時任務每天去更新域名解析到的IP這樣即使解析IP變化了一天後也會得到更新</li>
                    <li><a href="https://zh.wikipedia.org/zh-tw/Cloudflare"
                            target="_blank">cloudflare</a>通常也不會爲同個獨裁地區，依地區分配多個不同IP，畢竟獨裁地區不封 <a
                            href="https://zh.wikipedia.org/zh-tw/Cloudflare" target="_blank">cloudflare</a> 都是迫不得已也不會讓
                        <a href="https://zh.wikipedia.org/zh-tw/Cloudflare" target="_blank">cloudflare</a> 提供太優質和特色的服務
                    </li>
                </ol>
            </div>
        </div>
    </div>
</body>

</html>